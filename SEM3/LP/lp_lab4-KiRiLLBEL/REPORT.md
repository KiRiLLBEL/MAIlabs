#№ Отчет по лабораторной работе №4
## по курсу "Логическое программирование"

## Обработка естественного языка

### студент: Белоносов К.А.

## Результат проверки

| Преподаватель     | Дата         |  Оценка       |
|-------------------|--------------|---------------|
| Сошников Д.В. |              |               |
| Левинская М.А.|              |               |

> *Комментарии проверяющих (обратите внимание, что более подробные комментарии возможны непосредственно в репозитории по тексту программы)*

## Введение

В настоящее время существует множество задач на обработку естественных языков (NLP), для их решения применяются алгоритмы машинного обучения и искусственный интеллект. Естественный язык содержит набор правил и слов, с помощью которых мы можем составлять предложения.
Для обработки естественных языков применяется статический метод. Он заключается в наборе словарей и правил вывода, с помощью которых может быть получено предложение. Prolog идеально подходит в данной ситуации. Перенеся правила вывода на предикаты Пролога, мы легко сможем работать с нашим предложением. Работа с естественными и искуственными языками является часто встречающейся задачей в логических языках программирования, ввиду удобного механизма возврата и перебора.

## Задание

Реализовать грамматический разбор фраз на ограниченном естественном
языке и преобразовать данные фразы в язык исчисления предикатов первого
порядка типа:

```prolog
Запрос: ?- test([every, man, that, lives, loves, a, woman],Res).
Результат: Res = all(X, man(X) & lives(X) => exists(Y, woman(Y) & loves(X, Y))) 
```

## Принцип решения

Грамматика - набор правил, показывающий все допустимые предложения в рамках этого языка. Для анализа наших предложений нам необходимо определиться в его структуре. Наше предложение можно разбить на часть сущиствительного и часть глагола (подлежащее и сказуемое соответственно). В свою очередь часть сущиствительного мы можем разбить на определитель и само сущиствительное и какое-то его свойство, которое по своей сути также является частью глагола. Из этого можно сделать вывод, что анализ нашего предложение есть анализ дерева, что является родным инструментом для пролога.

Покажем правила перехода для нашей граматики:

1. `sentence -> part_of_noun & part_of_verb`
2. `part_of_noun -> determinant & noun | determinant & noun & properties(that)`
3. `part_of_verb -> verb | verb & part_of_noun`

Объявим операторы для исчесления предикатов:

```prolog
:- op(900, xfx, =>).
:- op(800, xfy, &).
:- op(300, xfx, :).
```

### Объявим правила вывода

1. Исходное предложение:

```prolog
sequance(R, In) :-
    append(In1, In2, In),
    part_of_noun(X, In1, Buf, R),
    part_of_verb(X, In2, Buf).
```

2. Часть существительного:

```prolog
% Часть существительного
part_of_noun(X, In, Buf, R) :-
    append(_, Buf1, In),
    % Определяем, необходим ли нам квантор
    quantifier(X, Buf1, Tmp, F, Buf, R),
    % Определяем наше существительное
    noun(X, Tmp, T, Person),
    % Смотрим, каким свойствами обладает наше существительное(that)
    properties(X, Person, T, F).
part_of_noun(X, In, R, R) :-
    name(X, In).
```

3. Часть глагола:

```prolog
% Часть глагола
part_of_verb(X, Buf, R) :-
    % Определяем глагол
    verb1(X, Buf, R).
part_of_verb(X, Buf, R) :-
    % Определяем глагол
    verb2(X, Y, Buf, Tmp, R1), 
    % Определяем на какой объект направлено действие
    part_of_noun(Y, Tmp, R1, R).
```

4. Часть определителя, которая будет задавать структуру нашего высказывания:

```prolog
quantifier(X, [every|Buf1], Buf1, F, Buf2, all(X):(F=>Buf2)).
quantifier(X, [a|Buf1], Buf1, F, Buf2, exists(X):(F&Buf2)). 
```

## Результаты

```prolog
sequance(R, [every, man, that, lives, loves, a, woman]). 
R = all(_A):(man(_A)&lives(_A)=>exists(_B):(woman(_B)&loves(_A, _B)))
```

```prolog
sequance(R, [every, man, that, lives, loves, maria]).    
R = all(_A):(man(_A)&lives(_A)=>loves(_A, maria)) 
```

```prolog
sequance(R, [ivan, loves, maria]).                    
R = loves(ivan, maria) 
```

## Выводы

В данной лабораторной работе я познакомился с принципами обработки естественных языков с помощью Prolog, реализовал программу, которая производит разбор фраз на английском языке и затем строит выражение в исчислении предикатов. Сама работа оказалась очень интересной, так как я смог перенести правила обработки на предикаты Пролога. Можно отметить, что для разбора более сложных предложений необходимо расширить словарь. Уже не в первый раз в работе пригодились знания, полученные на курсе дискретной математик, что ни может не радовать. Сам по себе Prolog неоднакратно показывал свою мощность, доступные в нем инструменты позволяют очень легко описать правила перехода и решать сложные задачи на обработку.