#№ Отчет по лабораторной работе №2
## по курсу "Логическое программирование"

## Решение логических задач

### студент: Белоносов К.А.

## Результат проверки

| Преподаватель     | Дата         |  Оценка       |
|-------------------|--------------|---------------|
| Сошников Д.В. |              |               |
| Левинская М.А.|              |               |

> *Комментарии проверяющих (обратите внимание, что более подробные комментарии возможны непосредственно в репозитории по тексту программы)*


## Введение

> Опишите своими словами, какие подходы существуют к решению логических задач. Почему Prolog оказывается удобным языком для написания решателей таких задач?

Для решения логических задач существуют различные подходы, например таблицы истинности, метод рассуждений и т.д. В языке Prolog мы можем выделить 2 основных подхода к решению логических задачах. Проверка всех решений: Мы порождаем все решения логической задачи и их проверяем их на выполнение необходимых логических условий. Если же возникает противоречие, то происходит возврат к другому решению. Такое подход позволяет получить все решения данной задачи, или доказать что решения не существует. Однако этот метод неэффективен на больших входных данных.Пошаговая проверка: Порожденные нами неверные решения отсеиваются на первых шагах, что позволяет убрать целое подмножество решений. Этот алгоритм заметно эффективнее полного перебора.

Язык Prolog позволяет свести решение логических задач к написанию предиктов, описывающих условие задачи. Этот подход гораздо проще в реализации и легче воспринимается. При этом, в случае неправильного варианта, мы можем вернуться назад и продолжить поиск.

## Задание

4. Левин, Митерев и Набатов работают в банке в качестве бухгалтера, кассира и счетовода. Если Набатов кассир, то Митерев счетовод. Если Набатов счетовод, то Митерев бухгалтер. Если Митерев не кассир, то Левин не счетовод. Если Левин бухгалтер, то Набатов счетовод. Кто какую должность занимает?

## Принцип решения

Основной идеей решения является перебор всех возможных вариантов профессий наших работников. Для этого мы используем стандартный предикат `permute` (`permutation` в swi-prolog), и будем проверять правильность наших решений с помощью предиката `attitude` - отношение.

```prolog
attitude(X, X1, Y, Y1) :-
    X=X1, Y=Y1.
attitude(X, X1, Y, Y1) :-
    X\=X1, Y\=Y1.
```

Так как в условии задачи работники и их профессии находятся в отношении эквиваленции, то это можно представить в виде дизъюнкции двух конъюнкций, т.е. (Человек `X` имеет профессию `X1` и человек `Y` имеет профессию `Y1`) или (человек `X` не имеет профессию `X1` и человек `Y` не имеет профессию `Y1`)(`(X∧Y)∨(¬X∧¬Y)`). Для условия "Митерев не кассир тогда и только тогда, когда Левин не счетовод" не нужно писать отдельный предикат, так как он будет аналогичен нашему предикату `attitude` в виду снятия двойного отрицания.

Тогда нам достаточно проверить, что порожденные нами решения удовлетворяли предикатам `attitude`.

```prolog
solve(L, M, N) :- 
    permutation([L, M, N],["Бугалтер", "Кассир", "Счётовод"]), 
    attitude(L, "Бугалтер", N, "Счётовод"),
    attitude(N, "Кассир", M, "Счётовод"),
    attitude(N, "Счётовод", M, "Бугалтер"),
    attitude(M, "Кассир", L, "Счётовод").
```

Данное решение безопасно, так как по сути все наше решение построено на проверке решений с помощью предикатов, однако мы производим полный перебор решений, что на больших входных данных выполнялось бы намного дольше.

## Выводы

Данная лабораторная работа познакомила меня со способами решения логических задач в языке Prolog, я смог написать программу для решения поставленной передо мной задачи. Prolog показал себя как замечательный инструмент для решения логических задач, ведь мы можем свести их решение к простому перебору и проверке известных нам фактов. Для решения же такой задачи мне потребовалось бы написать таблицу истинности и проверить решения. Да, это заняло бы не намного больше времени, но эффективность программы по сравнению с "ручным методом" растёт на больших входных данных. Это позволяет нам решать задачи быстрее и уменьшает вероятность совершения ошибки. 

В ходе работы расширилось мое понимание основных концепций языка, я стал больше понимать декларативную семантику языка. Нельзя не отметить, что при выполнении данной работы пригодились знания полученные на курсе дискретной математики в прошлом году, в частности логика высказываний и логика предикатов. 




